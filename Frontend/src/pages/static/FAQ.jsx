import React, { useState } from 'react';
import styles from './FAQ.module.css';

function FAQ() {
  // Акордеон състояние - пазим отворените въпроси в масив
  const [openItems, setOpenItems] = useState([0]); // Първият въпрос е отворен по подразбиране

  // Функция за управление на кликване върху въпрос
  const toggleAccordion = (index) => {
    if (openItems.includes(index)) {
      setOpenItems(openItems.filter(item => item !== index)); // Затваряме въпроса
    } else {
      setOpenItems([...openItems, index]); // Отваряме въпроса
    }
  };

  // Данни за често задаваните въпроси, групирани по категории
  const faqData = [
    {
      category: "За платформата",
      questions: [
        {
          question: "Какво представлява CulinaryCorner?",
          answer: "CulinaryCorner е онлайн платформа за споделяне на кулинарни рецепти, където потребителите могат да откриват, споделят и запазват разнообразни рецепти. Нашата мисия е да създадем вдъхновяваща кулинарна общност и да направим готвенето достъпно за всички."
        },
        {
          question: "Трябва ли да платя за използване на платформата?",
          answer: "Не, CulinaryCorner е напълно безплатна за използване платформа. Всички основни функции като разглеждане на рецепти, създаване на профил и споделяне на собствени рецепти са безплатни. В бъдеще може да предложим допълнителни премиум функции, но основната платформа ще остане безплатна."
        },
        {
          question: "Как мога да се свържа с екипа на CulinaryCorner при въпроси или проблеми?",
          answer: "Може да се свържете с нас чрез контактната форма на нашия сайт, да ни изпратите имейл на info@culinarycorner.com или да ни пишете в социалните мрежи. Стараем се да отговаряме на всички запитвания в рамките на 24-48 часа."
        }
      ]
    },
    {
      category: "Рецепти и готвене",
      questions: [
        {
          question: "Мога ли да запазвам рецепти за по-късно?",
          answer: "Да, регистрираните потребители могат да запазват рецепти в своя личен списък с любими рецепти. Просто кликнете върху иконата със звезда до всяка рецепта, за да я добавите към вашите любими. Можете да достъпите запазените рецепти по всяко време от вашия профил."
        },
        {
          question: "Мога ли да променям количествата в рецептите според броя порции?",
          answer: `Нашата платформа предлага няколко начина за намиране на рецепти според вашите хранителни нужди:
  	                1. Използвайте търсачката в горната част на страницата и въведете ключови думи.
                    2. Филтрирайте по категории
                    3. Комбинирайте филтри - можете едновременно да филтрирате по категория и да зададете време за приготвяне, което ви помага да намерите подходящи рецепти според вашите ограничения и наличното време.
                    4. Проверете описанието и съставките на рецептите - всяка рецепта съдържа подробна информация за всички съставки, което ви позволява да идентифицирате рецепти, съвместими с вашите хранителни ограничения.
                  Ако имате специфични хранителни нужди или алергии, които се нуждаят от допълнително внимание, свържете се с нас за персонализирани препоръки.`
        },
        {
          question: "Как да намеря рецепти, подходящи за моите хранителни ограничения?",
          answer: "Нашата платформа предлага няколко начина за намиране на рецепти според вашите хранителни нужди:\n\n1. Използвайте търсачката в горната част на страницата и въведете ключови думи като 'веган', 'безглутен' или конкретни съставки, които търсите или искате да избегнете.\n\n2. Филтрирайте по категории - в лявото меню на страницата с рецепти можете да изберете специализирани категории като 'Вегетариански', 'Веган' или 'Безглутенови'.\n\n3. Комбинирайте филтри - можете едновременно да филтрирате по категория и да зададете време за приготвяне, което ви помага да намерите подходящи рецепти според вашите ограничения и наличното време.\n\n4. Проверете описанието и съставките на рецептите - всяка рецепта съдържа подробна информация за всички съставки, което ви позволява да идентифицирате рецепти, съвместими с вашите хранителни ограничения.\n\nАко имате специфични хранителни нужди или алергии, които се нуждаят от допълнително внимание, свържете се с нас за персонализирани препоръки."
        }
      ]
    },
    {
      category: "Потребителски акаунти",
      questions: [
        {
          question: "Как да си създам акаунт в CulinaryCorner?",
          answer: "Създаването на акаунт е просто и безплатно. Кликнете върху бутона 'Регистрация' в горния десен ъгъл на сайта, попълнете необходимата информация и следвайте инструкциите."
        },
        {
          question: "Забравих си паролата. Как мога да я възстановя?",
          answer: "В страницата за вход има опция 'Забравена парола'. Кликнете върху нея, въведете имейл адреса, с който сте се регистрирали, и ще получите инструкции за създаване на нова парола. Проверете и папката си за спам, ако не виждате имейла."
        },
        {
          question: "Мога ли да променя потребителското си име или имейл адрес?",
          answer: "Mожете да променяте информацията за вашия профил от настройките на акаунта. Влезте в профила си, отидете в 'Настройки' и там можете да промените потребителското си име, профилна снимка и други лични данни."
        }
      ]
    },
    {
      category: "Публикуване на рецепти",
      questions: [
        {
          question: "Мога ли да публикувам собствени рецепти?",
          answer: "Да, регистрираните потребители могат да публикуват собствени рецепти. След вход в профила си, отидете на страницата 'Добави рецепта' и попълнете формата с всички необходими детайли. Можете да добавяте снимки, видеа, подробни инструкции и да категоризирате рецептата си."
        },
        {
          question: "Какви снимки мога да качвам към моите рецепти?",
          answer: "Препоръчваме да качвате висококачествени, ясни снимки на готовото ястие. Можете да добавите до 5 снимки към всяка рецепта, показващи различни етапи от приготвянето или различни изгледи на крайния резултат. Поддържаме JPG, PNG и WEBP формати с максимален размер 5MB на снимка."
        },
        {
          question: "Мога ли да редактирам или изтривам публикуваните си рецепти?",
          answer: "Да, винаги можете да редактирате или изтривате собствените си рецепти. Отидете на страницата с рецептата и ще видите опции за редактиране или изтриване, ако сте автор на рецептата. Това ви позволява да коригирате грешки или да актуализирате информацията."
        }
      ]
    }
  ];

  return (
    <div className={styles.faqPage}>
      <div className={styles.pageHeader}>
        <h1>Често задавани въпроси</h1>
        <div className={styles.headerDivider}></div>
      </div>
      
      <div className={styles.faqIntro}>
        <p>
          Намерете отговори на най-често задаваните въпроси за платформата CulinaryCorner.
          Ако не откриете отговор на вашия въпрос, моля <a href="/contact" className={styles.contactLink}>свържете се с нас</a>.
        </p>
      </div>
      
      <div className={styles.faqContainer}>
        {faqData.map((category, categoryIndex) => (
          <div className={styles.faqCategory} key={`category-${categoryIndex}`}>
            <h2>{category.category}</h2>
            
            <div className={styles.faqItems}>
              {category.questions.map((item, questionIndex) => {
                // Генерираме уникален индекс за всеки въпрос
                const index = categoryIndex * 10 + questionIndex;
                const isOpen = openItems.includes(index);
                
                return (
                  <div 
                    className={`${styles.faqItem} ${isOpen ? styles.active : ''}`} 
                    key={`question-${index}`}
                  >
                    <div 
                      className={styles.faqQuestion} 
                      onClick={() => toggleAccordion(index)}
                    >
                      <h3>{item.question}</h3>
                      <span className={styles.faqToggle}>
                        {isOpen ? '−' : '+'}
                      </span>
                    </div>
                    
                    {isOpen && (
                      <div className={styles.faqAnswer}>
                        <p>{item.answer}</p>
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          </div>
        ))}
      </div>
      
      <div className={styles.faqFooter}>
        <p>Все още имате въпроси? Нашият екип е на ваше разположение.</p>
        <a href="/contact" className={styles.contactButton}>Свържете се с нас</a>
      </div>
    </div>
  );
}

export default FAQ;